
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mango Ice Cream</title>
  <meta name="author" content="Kevin Pan">

  
  <meta name="description" content="Mango Ice Cream is a blog on mathematics, computer science, and various other topics by a burgeoning software developer">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kevinpan.me/posts/4">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mango Ice Cream" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <script src="/js/application.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57905192-1', 'auto');
  ga('send', 'pageview');

</script>
<body   >
  <div class="navbar navbar-inverse navbar-static-top">
    <div class="navbar-inner">
      <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
        <div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
          <ul class="nav">
    
        <li ><a href="/">Home</a></li>
    
        <li ><a href="/blog/archives">Archives</a></li>
    
        <li ><a href="http://www.kevinpan.ca/about">About Me</a></li>
    
</ul>

<ul class="nav pull-right">
    
    
    
    
    
    
    

    
</ul>

        </div>
      </div>
    </div>
  </div>
  <div class="container" id="main">
      <div class="row-fluid">
        <div id="content">
          <div class="jumbotron">
  <div class="container">
    
      Mango Ice Cream
    
    <h3 class="tagline">
      
        A blog on math, programming, and other topics that pique my interest
      
    </h3>
  </div>
</div>


<div class="blog-index">
  
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">




<i class="icon-calendar-empty"></i> <time class='entry-date' datetime='2014-12-01T23:32:03-08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2014</span></span> <span class='time'>11:32 pm</span></time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/blog/2014/12/01/garlic-brussel-sprouts-with-bacon-and-parmesan/">Garlic Brussel Sprouts with Bacon and Parmesan</a></h1>
      <p>Here’s a recipe I partially adapted from one I found online.</p>

<h2 id="ingredients">Ingredients</h2>

<ol>
  <li>3 strips of bacon</li>
  <li>1 cup of brussel sprouts</li>
  <li>Powdered parmesan cheese</li>
  <li>4 cloves of diced garlic</li>
  <li>Salt (half to one teaspoon)</li>
  <li>Black pepper</li>
</ol>

<h2 id="instructions">Instructions</h2>

<p>Start by cooking the three strips of bacon (without using oil). While doing so, remove the outer leaves of the brussel sprouts, then cut each in half and wash. Once bacon is done, leave bacon oil in the pan (if it’s too oily, take some out). Start frying the garlic in the pan (use slightly under medium heat) until they turn slightly brown, then throw in the brussel sprouts. Try to keep the flat part down so it absorbs the flavor. Add black pepper and sprinkle salt. While frying, chop the bacon strips into thin slices and throw them in with the brussel sprouts. Continue frying for 3 - 4 minutes. Finally, add parmesan cheese.</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">




<i class="icon-calendar-empty"></i> <time class='entry-date' datetime='2014-11-29T22:22:42-08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:22 pm</span></time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/blog/2014/11/29/some-notes-on-the-mercator-projection/">Some notes on the Mercator projection</a></h1>
      <p>A while back I was investigating on how I would build a Twitter mapping application similar to the <a href="http://www.onemilliontweetmap.com/">One Million Tweet Map</a> project. One of the first topics I looked into was how I would plot and display each tweet on a map. I was hesitant on using the Google Maps API and wanted to build the project on top of the HTML5 Canvas.</p>

<p>The main challenge here was implementing an algorithm that would map latitude and longitude information into x and y coordinates onto the canvas. I looked into several map projections and decided to settle on the Mercator projection (arguably the most commonly used map projection in the world). I did a little bit of research into Mercator projections with the help of <a href="http://en.wikipedia.org/wiki/Mercator_projection">Wikipedia</a> and here is a concise summary of what I’ve learnt.</p>

<p>The Mercator projection is a cylindrical map projection. This means that meridians are mapped to equally spaced vertical lines and circles of latitudes are mapped to equally spaced horizontal lines. The projection assumes that the Earth is a perfect sphere (in truth the Earth is best modelled by an oblate spheroid). Our map will be a Mercator projection of a scaled down version of the perfectly spherical Earth. This scaled down version of the Earth will be called the globe and it has a radius $R$.</p>

<p>The Mercator projection can be understood using small element geometry. The idea is that if we “unwrap” the globe and spread it flat as best we could, very small elements or sections on the globe can be modelled using a rectangle. The diagram below visualizes this idea ($\lambda$ represents the longitude and $\phi$ represents the latitude).</p>

<p><img src="http://upload.wikimedia.org/wikipedia/commons/d/d0/CylProj_infinitesimals2.svg" alt="Alt text" /></p>

<p>The perpendicular distance from the axis of rotation to any point on the globe at latitude $\phi$ is $R \cdot \cos\phi$ and so we get $R \cdot \cos\phi \cdot \delta\lambda$ as the horizontal distance between $P$ and $Q$ using the arc length formula.</p>

<p>The vertical distance between $P$ and $Q$ can also be explained using the same logic. Since latitudes are measured from the center of the globe and the difference in latitude between $P$ and $Q$ is $\delta\phi$, using the arc length formula again gives us $R \cdot \delta\phi$.</p>

<p>With this information, we define two scale factors from globe to cylinder:</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
k(\phi) & =\frac{P'M'}{PM}=\frac{\delta x}{R \cdot \cos\phi \cdot \delta\lambda}\tag{parallel scale factor} \\
h(\phi) & =\frac{P'K'}{PK}=\frac{\delta y}{R \cdot \delta\phi}\tag{meridian scale factor}
\end{align} %]]></script>

<h2 id="mapping-from-longitudes-to-x-coordinates">Mapping from longitudes to x coordinates</h2>

<p>We note that for small $\delta\lambda$, $\delta x = R \cdot \delta\lambda$. From this equation, we can obtain the mapping function from longitudes to x coordinates (one half of the Mercator projection). $\delta x = R \cdot \delta\lambda$ is a very simple rearranged first order linear differential equation and we can solve it quickly.</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
\delta x & = R \cdot \delta\lambda \\
\int \delta x & = R \cdot \int \delta\lambda \\
x + c_1 & = R \cdot (\lambda + c_2) \\
x & = (R \cdot \lambda) + (R \cdot c_2) - c_1 \\
& = R(\lambda - \lambda_0)
\end{align} %]]></script>

<p>Here $\lambda_0$ is the longitude of an arbitrary central meridian (this is usually Greenwich).</p>

<h2 id="mapping-from-latitudes-to-y-coordinates">Mapping from latitudes to y coordinates</h2>

<p>Before starting, it is important to understand that the Mercator projection is conformal. This means that the projection of points from the globe to the cylinder preserves angles. This property can be defined in two ways:</p>

<ol>
  <li>Equality of angles $\beta = \alpha$</li>
  <li>Isotropy of scale factors: $h = k$</li>
</ol>

<p>From the above, we know that $\delta x = R \cdot \delta\lambda$ and substituting this into the expression for $k(\phi)$ gets us:</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
\frac{1}{\cos\phi} & = k(\phi) \\
& = h(\phi)\tag{from (2)} \\
& = \frac{\delta y}{R \cdot \delta\phi} \\
\frac{\delta y}{\delta\phi} & = R \cdot \sec\phi
\end{align} %]]></script>

<p>Solving this differential equation gives us the mapping function from latitudes to y coordinates:</p>

<script type="math/tex; mode=display">y = R \cdot \ln[\tan(\frac{\pi}{4} + \frac{\phi}{2})]</script>

<h2 id="finding-the-radius-of-the-globe-r">Finding the radius of the globe, $R$</h2>

<p>But wait, there’s more! All this time we’ve been working with the radius of the globe, $R$, but what exactly is it’s value once we put the projection into practice?</p>

<p>Since the Mercator projection is cylindrical, the scale factor between the globe and the cylinder equals one only at the equator. This means that the circumference of the cylinder will equal the circumference of the globe and so the horizontal length of the physical map will equal $2 \cdot \pi \cdot R$.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Finally, we can define the Mercator projection with these three equations (where z equals the horizontal length of the physical map):</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
R & = \frac{z}{2 \cdot \pi} \\
x & = R(\lambda - \lambda_0) \\
y & = R \cdot \ln[\tan(\frac{\pi}{4} + \frac{\phi}{2})]
\end{align} %]]></script>

<h2 id="inaccuracies-with-the-projection">Inaccuracies with the projection</h2>

<p>Interestingly, despite being one of the most popular projections in the world, the Mercator projection is grossly inaccurate in representing the relative sizes of different land masses. In particular, land masses get bloated the closer to the poles you go up to a point where the projection is not even capable of displaying the poles.</p>

<p><img src="http://media.economist.com/sites/default/files/imagecache/original-size/20101113_WOM943.gif" alt="Alt text" /></p>

<p>This weird property of the projection can be understood by examining the parallel scale factor ($k(\phi)=\frac{\delta x}{R \cdot \cos\phi \cdot \delta\lambda}$). As we approach the poles, the latitudes approach $\pm 90^o$ and we know that $\cos\phi$ approaches $0$. Since $\cos\phi$ is in the denominator of the scale factor, the factor approaches $\infty$. An accurate projection will require the parallel scale factor to be $1$ everywhere.</p>

<p>This explains why land masses closer to the poles get bloated while the poles cannot be represented since they would technically have infinite width on the projection.</p>

<hr />

<h5 id="sidenote">Sidenote</h5>

<p>We can derive the latitude mapping function a second way.</p>

<p>For small elements, we note that $\measuredangle PKQ$ is a right angle and so we get the two equations:</p>

<script type="math/tex; mode=display">\begin{aligned}
\tan\delta = \frac{R \cdot \cos\phi \cdot \delta\lambda}{R \cdot \delta\phi}, \tan\beta = \frac{\delta x}{\delta y}
\end{aligned}</script>

<p>From $(1)$ equality of angles, we get the equation $\frac{R \cdot \cos\phi \cdot \delta\lambda}{R \cdot \delta\phi} = \frac{\delta x}{\delta y}$. We also know that $\delta x = R \cdot \delta\lambda$ for small elements. Using the latter fact and rearranging the former equation, we again reach $\frac{\delta y}{\delta\phi} = R \cdot \sec\phi$.</p>

<blockquote>
  <p>Two random variables were talking in a bar. They thought they were being discrete but I heard their chatter continuously</p>
</blockquote>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2 post-meta">
	  <h5 class="date-time">




<i class="icon-calendar-empty"></i> <time class='entry-date' datetime='2014-11-28T02:05:51-08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>2:05 am</span></time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10 post-container">
      <h1 class="link"><a href="/blog/2014/11/28/today-i-used-fermats-little-theorem-outside-of-class-hackerrank-challenge-game-of-thrones-ii/">Today I used Fermat&#8217;s little theorem outside of class - Hackerrank Challenge: Game of Thrones II</a></h1>
      <p>This challenge asks you to find the number of possible palindrome anagrams in a word, modulus 10^9 + 7$.</p>

<p>To answer this question, we need to know two facts:</p>

<ul>
  <li>We know that a set of characters can be a palindrome if there exists a bipartite graph where each vertex represents a character in the set and an edge exists between vertices if two characters are the same. Each vertex in this graph must have degree at least 1 (the exception is for a string with an odd number of characters. In this case, it must be true that there exists one character which you can remove from the set so that the aforementioned graph can be constructed from the rest of the characters in the set).</li>
</ul>

<p><strong>TLDR:</strong> A palindrome anagram of a string exists if: (1) for strings of even length, every unique character in the string can only occur an even number of times (2) for strings of odd length, there must only be one unique character that occurs in the string an odd number of times</p>

<ul>
  <li>We also note that we only need to know the first half of a palindromic string to know the entire string.</li>
</ul>

<p>With these two facts in mind, the answer to the challenge will <em>almost</em> be as simple as finding the number of unique permutations of all characters in one of the bipartitions of the aforementioned graph. However, since the question wants the answer to be returned $\bmod 10^9 + 7$ (perfectly reasonable as the actual number can grow insanely large), we will need to use modular arithmetic.</p>

<h2 id="calculating-the-number-of-unique-permutations-of-a-string-without-modular-arithmetic">Calculating the number of unique permutations of a string (without modular arithmetic)</h2>

<p>There are two formulas you can use to do this (note $n$ represents string length and $n_i$ represents number of occurences for one unique character):</p>

<script type="math/tex; mode=display">x = \frac{n!}{n_1!n_2!n_3!...n_n!}\tag{w/ factorials}</script>

<script type="math/tex; mode=display">x = {n \choose n_1}{n - n_1 \choose n_2}{n - n_1 - n_2 \choose n_3}...\tag{w/ binomial coefficients}</script>

<p>Explanation for the factorial formula can be found <a href="http://cs.stackexchange.com/a/2445">here</a>. I can try to explain the latter formula briefly. For the first unique character in the string, there are ${n \choose n_1}$ to place $n_1$ characters in $n$ spaces. For the next unique character in the string, since $n_1$ places are already taken up, there are ${n - n_1 \choose n_2}$ ways to distribute the next $n_2$ characters, and so on.</p>

<p>For my algorithm, I chose to go with the factorial equation.</p>

<h2 id="now-apply-modular-arithmetic">Now apply modular arithmetic</h2>

<p>There are two primary properties of modular arithmetic that is commonly used in programming. They are:</p>

<p><script type="math/tex">(a + b) \% m = ((a \% m) + (b \% m)) \% m\tag{addition}</script>
<script type="math/tex">(a * b) \% m = ((a \% m) * (b \% m)) \% m\tag{multiplication}</script></p>

<p>We will only need the multiplication property. Using this, we can define a modular multiplication method:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">static</span> <span class="kt">long</span> <span class="n">M</span> <span class="o">=</span> <span class="o">((</span><span class="kt">long</span><span class="o">)</span><span class="n">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">9</span><span class="o">))</span> <span class="o">+</span> <span class="mi">7</span><span class="o">;</span>
</span><span class="line">
</span><span class="line"><span class="kd">static</span> <span class="kt">long</span> <span class="nf">modularMultiplication</span><span class="o">(</span><span class="kt">long</span> <span class="n">a</span><span class="o">,</span> <span class="kt">long</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="k">return</span> <span class="o">((</span><span class="n">a</span> <span class="o">%</span> <span class="n">M</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="n">b</span> <span class="o">%</span> <span class="n">M</span><span class="o">))</span> <span class="o">%</span> <span class="n">M</span><span class="o">;</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>We can also define a factorial method using modular arithmetic. For the purposes of the question, $x$ will always be less than $M$ and <code>factorial</code> will always return values less than $M$. As such, we don’t need to use modular multiplication here:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">static</span> <span class="kt">long</span> <span class="nf">factorial</span><span class="o">(</span><span class="kt">long</span> <span class="n">x</span><span class="o">){</span>
</span><span class="line">    <span class="k">if</span><span class="o">(</span><span class="n">x</span><span class="o">==</span><span class="mi">0</span><span class="o">||</span><span class="n">x</span><span class="o">==</span><span class="mi">1</span><span class="o">)</span>
</span><span class="line">        <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
</span><span class="line">    <span class="k">else</span> <span class="nf">return</span> <span class="o">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">factorial</span><span class="o">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <span class="o">%</span> <span class="n">M</span><span class="o">;</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>You might’ve noticed that I left out something crucial that’s needed to solve this question: how do you perform modular division? * gasp * This is where Fermat’s little theorem comes into play (yay more math!). The theorem states that:</p>

<script type="math/tex; mode=display">a^{p - 1} \equiv 1 \bmod p, a \in \mathbb{R}\tag{where p is a prime number}</script>

<p>Did you also notice that $10^9 + 7$ is a prime number? This is the reason why we can apply the theorem to this question.</p>

<p>Starting from the theorem, we multiply both sides by $a^{-1}$ to get us:</p>

<script type="math/tex; mode=display">\begin{aligned}
a^{p - 2} \equiv a^{-1} \bmod p \\
a^{-1} \equiv a^{p - 2} \bmod p \\
\frac{1}{a} \equiv a^{p - 2} \bmod p
\end{aligned}</script>

<p>This means that all we need to do perform modular division is to find $a^{p - 2} \bmod p$. Then we can modular multiply the result with the dividend. The last final piece to the puzzle is how do we actually find that value quickly and efficiently? Well, fortunately, there is a modular exponentiation technique called binary exponentiation (or exponentiation by squaring) that can do this in logarithmic time (finds $a^n \bmod p$ in $\mathcal{O}(\log n)$).</p>

<p>Here’s the implementation of the algorithm in Java:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">static</span> <span class="kt">long</span> <span class="nf">modularPow</span><span class="o">(</span><span class="kt">long</span> <span class="n">base</span><span class="o">,</span> <span class="kt">long</span> <span class="n">exponent</span><span class="o">,</span> <span class="kt">long</span> <span class="n">modulus</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="kt">long</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class="line">    <span class="n">base</span> <span class="o">=</span> <span class="n">base</span> <span class="o">%</span> <span class="n">modulus</span><span class="o">;</span>
</span><span class="line">    <span class="k">while</span> <span class="o">(</span><span class="n">exponent</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">        <span class="k">if</span> <span class="o">(</span><span class="n">exponent</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">            <span class="n">result</span> <span class="o">=</span> <span class="o">(</span><span class="n">result</span> <span class="o">*</span> <span class="n">base</span><span class="o">)</span> <span class="o">%</span> <span class="n">modulus</span><span class="o">;</span>
</span><span class="line">        <span class="o">}</span>
</span><span class="line">        <span class="n">exponent</span> <span class="o">=</span> <span class="n">exponent</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">;</span>
</span><span class="line">        <span class="n">base</span> <span class="o">=</span> <span class="o">(</span><span class="n">base</span> <span class="o">*</span> <span class="n">base</span><span class="o">)</span> <span class="o">%</span> <span class="n">modulus</span><span class="o">;</span>
</span><span class="line">    <span class="o">}</span>
</span><span class="line">    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Finally, here’s the implementation of modular division:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kd">static</span> <span class="kt">long</span> <span class="nf">modularDivision</span><span class="o">(</span><span class="kt">long</span> <span class="n">a</span><span class="o">,</span> <span class="kt">long</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
</span><span class="line">    <span class="k">return</span> <span class="nf">modularMultiplication</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">modularPow</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="n">M</span> <span class="o">-</span> <span class="mi">2</span><span class="o">,</span> <span class="n">M</span><span class="o">));</span>
</span><span class="line"><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Knowing all these, we can quickly find the result of $\frac{n!}{n_1!n_2!n_3!…n_n!} \bmod (10^9 + 7)$ and solve the problem.</p>

<blockquote>
  <p>Mathematical puns are the first sine of madness</p>
</blockquote>

      
      
    </div>
  </div>



    </article>
    
  
  <div class="pagination">
    
    <a class="prev" href="/posts/5">&larr; Older</a>
    

    
    <a class="next" href="/posts/3">Newer &rarr;</a>
    
  </div>
</div>


        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2015 - Kevin Pan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'mangoicecream';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
