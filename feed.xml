<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Mango Ice Cream</title>
    <description>Avid road cyclist. Aspiring product manager. Passionate software developer. Armchair political scientist. Couch economist.
</description>
    <link>http://kevinpan.me/</link>
    <atom:link href="http://kevinpan.me/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 31 Mar 2017 21:10:24 -0400</pubDate>
    <lastBuildDate>Fri, 31 Mar 2017 21:10:24 -0400</lastBuildDate>
    <generator>Jekyll v3.1.2</generator>
    
      <item>
        <title>CS488 Project: Extended Ray Tracer</title>
        <description>&lt;p&gt;I’m currently taking the course, &lt;em&gt;CS488: Introduction to Computer Graphics&lt;/em&gt;, at the University of Waterloo. The course’s final project is open-ended and you’re expected to create a set of objectives, within reasonable constraints, and implement them into one cohesive graphics program. This post provides a brief overview of the ray tracer I wrote as my final project.&lt;/p&gt;

&lt;p&gt;Ray tracing is fundamentally a computer image generation technique where simulated light rays are fired from a virtual camera into a virtual scene. The light rays might intersect with objects in the scene and these intersections determine the final image’s pixel colours. Ray tracing is generally very slow but it can create photorealistic images. This is why it’s often used in film and rarely used in video games.&lt;/p&gt;

&lt;p&gt;For my final project, I had to choose and implement 10 different ray tracer features. I’ve provided a brief description for each of them below, and also included sample renderings.&lt;/p&gt;

&lt;p&gt;The ray tracer is written in C++ and Lua is used as the modelling language.&lt;/p&gt;

&lt;h2 id=&quot;objective-1-cone-and-cylinder-primitives&quot;&gt;Objective 1: Cone and Cylinder primitives&lt;/h2&gt;

&lt;p&gt;This ray tracer is an extension of the ray tracer built in assignment 4. The previous ray tracer supports sphere, cube, and mesh primitives. I’ve added cone and cylinder primitives in this version.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://imgur.com/X7ydXcs.png&quot; /&gt;&lt;/div&gt;

&lt;h2 id=&quot;objective-2-reflection-and-refraction&quot;&gt;Objective 2: Reflection and Refraction&lt;/h2&gt;

&lt;p&gt;Reflection is implemented by generating a secondary reflection ray when a light ray hits a reflective object. The direction of the reflected ray is determined through the law of reflection. Reflection rays can generate more reflection rays if they also hit reflective objects.&lt;/p&gt;

&lt;p&gt;Implementation-wise, refraction is similar to reflection. The only difference is the direction of secondary rays is determined through Snell’s Law instead of the law of reflection. The law takes into account the indices of refraction between the two mediums.&lt;/p&gt;

&lt;p&gt;In this ray tracer, refractive objects are also slightly reflective and fresnel coefficients are used to determine how much light is refracted and how much light is reflected at different points on the object.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://imgur.com/KRh1U6T.png&quot; /&gt;&lt;/div&gt;

&lt;h2 id=&quot;objective-3-glossy-reflection-and-refraction&quot;&gt;Objective 3: Glossy reflection and refraction&lt;/h2&gt;

&lt;p&gt;Glossiness is implemented by generating multiple secondary reflection/refraction rays per intersection and averaging the results. The direction of each ray is randomly perturbed by an amount proportional to the object’s glossiness.&lt;/p&gt;

&lt;p&gt;The number of glossy samples taken per ray intersection determines how noisy the glossy effect is. The more samples, the less noise.&lt;/p&gt;

&lt;p&gt;The sharpness of the glossy effect can be adjusted using the material’s phong exponent. The larger the phong exponent, the sharper the image. As the phong exponent approaches infinity, glossiness turns into mirror reflection.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/Xhcy5Rr.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Cylinder on the left is refractive and cylinder on the right is glossy refractive and slightly reflective.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/iaL85xC.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Sphere on the left is glossy with 3 samples taken per intersection while the right is glossy with 20 samples taken per intersection. Phong exponent is 20.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/gTdvyvh.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Sphere on the left is glossy with 3 samples taken per intersection while the right is glossy with 20 samples taken per intersection. Phong exponent is 500.
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&quot;objective-4-texture-mapping&quot;&gt;Objective 4: Texture mapping&lt;/h2&gt;

&lt;p&gt;Texture mapping is implemented by mapping surface coordinates on an object to texture coordinates. The texture coordinates are then used to query a texture (rectangular image) to determine the object’s colour.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/FTcO01v.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Earth, demonstrating spherical texture mapping.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/sJHkxJD.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    F-15C Eagle fighter aircraft, demonstrating texture mapping for meshes.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://imgur.com/wPIy530.png&quot; /&gt;&lt;/div&gt;

&lt;h2 id=&quot;objective-5-bump-mapping&quot;&gt;Objective 5: Bump mapping&lt;/h2&gt;

&lt;p&gt;Like texture mapping, bump mapping also requires mapping object surface coordinates to texture coordinates. However, instead of using texture colours to colour the object’s surface, we use them to determine how normals on the surface are perturbed. Perturbing surface normals creates different lighting patterns that simulate the appearance of a bumpy surface.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/uQ9CkiC.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Earth, demonstrating spherical bump mapping.
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&quot;objective-6-phong-shading&quot;&gt;Objective 6: Phong shading&lt;/h2&gt;

&lt;p&gt;Phong shading is implemented by interpolating vertex normals across a triangle’s surface to create the appearance of a smooth surface.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://imgur.com/bHhtgNr.png&quot; /&gt;&lt;/div&gt;

&lt;h2 id=&quot;objective-7-soft-shadows&quot;&gt;Objective 7: Soft shadows&lt;/h2&gt;

&lt;p&gt;Soft shadows are implemented by sending multiple shadow rays to different sections of a spherical area light. The shadow intensity is determined by the number of shadow rays that are blocked over the total number of shadow rays sent. Area lights are partitioned using a uniform grid and a shadow ray is sent to a random location in each cell. This randomness creates local noise and removes an unnatural “banding” effect in the shadow.&lt;/p&gt;

&lt;p&gt;The number of shadow ray samples taken determine global noisiness of the soft shadow. The more samples, the less noise.&lt;/p&gt;

&lt;div class=&quot;half-images&quot;&gt;
  &lt;div class=&quot;fit-image&quot;&gt;
    &lt;img src=&quot;http://imgur.com/1NqO1K6.png&quot; /&gt;
    &lt;div class=&quot;caption half-caption&quot;&gt;
      Shadow from a point light.
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;fit-image&quot;&gt;
    &lt;img src=&quot;http://imgur.com/rpO0kZ7.png&quot; /&gt;
    &lt;div class=&quot;caption half-caption&quot;&gt;
      Soft shadow from a wide area light. Rendered using 9 shadow ray samples per intersection.
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;half-images&quot;&gt;
  &lt;div class=&quot;fit-image&quot;&gt;
    &lt;img src=&quot;http://imgur.com/H20Z8nV.png&quot; /&gt;
    &lt;div class=&quot;caption half-caption&quot;&gt;
      Soft shadow from a narrower area light. Rendered using 9 shadow ray samples per intersection.
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;fit-image&quot;&gt;
    &lt;img src=&quot;http://imgur.com/YE3LTLC.png&quot; /&gt;
    &lt;div class=&quot;caption half-caption&quot;&gt;
      Soft shadow from the same area light, but rendered using 4 shadow ray samples per intersection. Notice the increased noise on the shadow.
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&quot;objective-8-adaptive-anti-aliasing&quot;&gt;Objective 8: Adaptive anti-aliasing&lt;/h2&gt;

&lt;p&gt;Anti-aliasing eliminates “jaggies”, a type of image artifact where straight or smooth lines have a staircase-like appearance.&lt;/p&gt;

&lt;p&gt;Anti-aliasing is performed by partitioning a pixel into uniformly sized subpixels and sending rays into the center of each subpixel. The final colour of a pixel is the average of the colours returned by its subpixel rays. The more samples taken per pixel, the smoother the final image looks.&lt;/p&gt;

&lt;p&gt;In adaptive anti-aliasing, not all pixels are anti-aliased. Ideally, only pixels that need it are anti-aliased. My adaptive anti-aliasing implementation uses two passes to generate the image. The first pass is a standard ray trace. The resulting image is fed to an edge detection algorithm and a second pass, this time with anti-aliasing turned on, retraces the detected edge pixels.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/ecxjBSi.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Image before anti-aliasing. Notice the jaggies.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://imgur.com/V5vOc4E.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Edge pixels detected through edge detection algorithm.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;fit-image&quot;&gt;
  &lt;img src=&quot;http://imgur.com/3q6dyQN.png&quot; /&gt;
  &lt;div class=&quot;caption wide-caption&quot;&gt;
    Image after anti-aliasing using 9 samples per anti-aliased pixel.
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&quot;objective-9-bounding-volume-hierarchy-bvh&quot;&gt;Objective 9: Bounding Volume Hierarchy (BVH)&lt;/h2&gt;

&lt;p&gt;This feature optimizes the speed of the ray tracer by eliminating unnecessary intersection checks. The algorithm starts out by bounding all objects in a scene in one Axis Aligned Bolume Box (AABB) and storing this AABB and the objects it contains in a root node. It then splits these objects into three groups based on location. An AABB and a corresponding child node are created for each group. This process is repeated recursively for each child node and stops when a node contains only one object. The resulting data structure is a tree.&lt;/p&gt;

&lt;p&gt;We can speed up intersection checking using BVH through the observation that if a ray fails to intersect with a node’s AABB, it will fail to intersect any of the nodes descendent nodes. Because of the tree structure, BVH allows intersection testing of one ray to be run on $x$ number of model objects, where $x$ is logarithmic in the total number of model objects.&lt;/p&gt;

&lt;p&gt;BVH’s performance is highly dependent on the object partitioning algorithm (i.e. tree balancing algorithm) used to create the BVH tree.&lt;/p&gt;

&lt;p&gt;To demonstrate the performance increase through BVH, I generated scenes with 1000, 20000, and 50000 spheres. I rendered each scene using non-BVH mode and BVH mode and recorded render times. Here are the results.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Spheres&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;non-BVH&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;BVH&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1000&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;5s&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0s&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;20000&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;150s&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;4s&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;50000&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;542s&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13s&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div class=&quot;relaxed-image&quot;&gt;&lt;img src=&quot;http://imgur.com/PQIaBsX.png&quot; /&gt;&lt;/div&gt;

&lt;h2 id=&quot;objective-10-final-scene&quot;&gt;Objective 10: Final scene&lt;/h2&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://imgur.com/qx2lIWN.png&quot; /&gt;&lt;/div&gt;

&lt;div style=&quot;margin-top: 80px&quot;&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Special thanks goes towards Professor Baranoski for being a great teacher and for entertaining all the questions I had after class and during office hours. I thoroughly enjoyed CS488 and learned a great deal.&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 28 Mar 2017 02:55:48 -0400</pubDate>
        <link>http://kevinpan.me/blog/2017/03/28/cs488-project-extended-ray-tracer/</link>
        <guid isPermaLink="true">http://kevinpan.me/blog/2017/03/28/cs488-project-extended-ray-tracer/</guid>
        
        
      </item>
    
      <item>
        <title>San Francisco Fleet Week 2016</title>
        <description>&lt;p&gt;Fleet Week is an annual United States Navy, Marine Corp, and Coast Guard tradition. For one week of the year, active military ships, usually deployed overseas, return home and dock in various major cities. It serves as both a vacation for the sailors and a celebration of the three branches of the military involved. During this week, several military-esque events take place within the host cities. For one, the public is allowed to board a select few of the visiting ships. Military demonstrations are also a common occurence (such as a ship parade). Arguably the most prominent of the events, and definitely the loudest, are the airshows.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://imgur.com/WvCjaAs.jpg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;I was initially excited for the ships, particularly because there was a chance an aircraft carrier, an actual Nimitz Class aircraft carrier, would be in the San Francisco Bay. No luck this year but it’s interesting that the HMCS Calgary, a Canadian Navy ship, is visiting.&lt;/p&gt;

&lt;p&gt;The lack of an aircraft carrier was too bad but there were still the airshows to look forward to. I used to be a huge aviation enthusiast and would still be if I had any time these days. Some of that passion lingers, though, and I was excited for the airshows. As with recent SF Fleetweek tradition, the US Navy’s Blue Angels were performing and they are the de facto highlight of the shows. I’ve read a great deal about them and being able to watch them live was a younger Kevin’s dream. The other performances in the show were:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Breitling Jet Team (largest civilian aerobatic display team based in France, flying Czech L-39 Albatros jets)&lt;/li&gt;
  &lt;li&gt;Team Oracle’s Sean D. Tucker flying in a prop plane&lt;/li&gt;
  &lt;li&gt;A United Airlines Boeing 747&lt;/li&gt;
  &lt;li&gt;The RCAF CF-18 demonstration team&lt;/li&gt;
  &lt;li&gt;The Navy Leap Frogs (parachute demonstration team)&lt;/li&gt;
  &lt;li&gt;An F-22 raptor&lt;/li&gt;
  &lt;li&gt;A Coast Guard MH65C rescue helicopter&lt;/li&gt;
  &lt;li&gt;The Patriots Jet Team (another civilian demonstration team, based in the US, also flying L-39s)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The airshow on Saturday started at noon and ended at 4. The Blue Angels were the last to fly at 3. I biked out to Hawk Hill at noon as a quick “morning” exercise and also to watch the show. The usual road up was restricted to downhill traffic, as a safety precaution for Fleet Week, and I had to climb up from the northside on a road I had only suspected of existing before.&lt;/p&gt;

&lt;p&gt;The weather was amazing. Clear skies, no fog, and unusually warm temperatures. It was almost a perfect day for an airshow, if not for the uncharacteristically hot midday sun. The Hawk Hill “summit” offers stunning views of San Francisco, the Golden Gate Bridge, and the Pacific coast. It was a good first stop to watch the show from but was also a bit too far. I did get some pretty impressive pictures of the Breitling team’s performance.&lt;/p&gt;

&lt;div class=&quot;wide-image-adj-top&quot;&gt;&lt;img src=&quot;http://i.imgur.com/Fp4USid.jpg&quot; /&gt;&lt;/div&gt;

&lt;div class=&quot;wide-image-adj-bottom&quot;&gt;&lt;img src=&quot;http://i.imgur.com/iAVKsVh.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;Geico… Save money… Geico. This was so compelling, I now have Geico insurance for my nonexistent car, home, and boat.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/9OSvG2D.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;I wanted to get closer and the next stop was Battery Spencer. Battery Spencer is at a lower point on Hawk Hill. It’s east of the summit and much closer to the bridge and city. There was a whole lot of people here and not a lot of shade. With the midday sun pressing down on me for so long, it was getting a tad bit uncomfortable. I also forgot to bring sunscreen!&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/RYUG2FK.jpg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;I stayed here for a bit too long but managed to see an F-22 Raptor for the first time. It’s probably the most advanced military fighter out there and definitely one of the most iconic.&lt;/p&gt;

&lt;p&gt;The next stop was the Golden Gate Bridge. The eastern path had the best view but was also closed to cycling on the weekends. I had to walk the bridge for the first time and was surprised at how long it took. The United Airlines 747 was demonstrating during this time. The massive passenger jet looked a bit odd doing aerobatics (or as much as a lumbering 747 could) amongst sleek military and civilian one/two-seater jets. Nice ad, United Airlines, but I’m still picking the cheapest flight on hipmunk™ (the fastest, easiest way to plan travel)!&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://imgur.com/R5r2AO0.jpg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The last stop was Fort Mason and it was to watch the Blue Angels. Fort Mason is in the city, on the northern end and directly east of the Golden Gate Bridge. It’s much much closer to the airshow. After all, it’s the Blue Angels and I didn’t want to see them as dots in the sky…&lt;/p&gt;

&lt;p&gt;I have to admit. I’m a casual. I only use a smartphone camera to take pictures. This is partly why I don’t have amazing photos of the Blue Angels. Some of my friends have posted absolutely gorgeous photos of them and mine pale in comparison. Nevertheless, here are some of my best from today.&lt;/p&gt;

&lt;div class=&quot;wide-image-adj-top&quot;&gt;&lt;img src=&quot;http://i.imgur.com/wVHKww8.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;div class=&quot;wide-image-adj-center&quot;&gt;&lt;img src=&quot;http://i.imgur.com/CBVhjRX.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;div class=&quot;wide-image-adj-center&quot;&gt;&lt;img src=&quot;http://i.imgur.com/TrkSwdG.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;div class=&quot;wide-image-adj-bottom&quot;&gt;&lt;img src=&quot;http://i.imgur.com/wHpmNic.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;Oh, one last thing. After the show, I was heading home and down Bay Street comes this massive group of motorcyclists weaving through traffic. It was pretty cool to see such a large congregation of bikers… I mean, you don’t see that everyday right? Then the intersection turned red for Bay Street and everything turned sour. The bikers continued to cross the street en masse and some of them even took the liberty to stop in front of cars trying to inch into the intersection. Oh my, sorry the cars offended you for trying to cross when it’s green! I was one of the many, the unfortunate, to be blocked by these bikers. The intersection lights turned red for our direction, no one was able to make it through the green. The bikers just kept coming like an endless horde of obnoxiously loud beasts. It turned green again for us, and they kept coming. It wasn’t until the third green did the stream of bikers peter out.&lt;/p&gt;

&lt;p&gt;At some point during this nonsense, the engine revs from the motorcycles started to sound like massive, dry farts.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/zG4hRPj.jpg?1&quot; /&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 09 Oct 2016 02:00:05 -0400</pubDate>
        <link>http://kevinpan.me/blog/2016/10/09/sf-fleet-week/</link>
        <guid isPermaLink="true">http://kevinpan.me/blog/2016/10/09/sf-fleet-week/</guid>
        
        
      </item>
    
      <item>
        <title>Mount Diablo</title>
        <description>&lt;p&gt;Mount Diablo is situated deep in the eastern San Francisco Bay Area (or East Bay), North of Pleasanton and East of Walnut Creek. The mountain is part of the Diablo Range, a mountain range that stretches from East Bay all the way down to the Salinas Valley. Much of the mountain, including its peak, is in protected land via the Mount Diablo State Park. A cursory glance of Mount Diablo’s wiki page reveals an interesting fact: the mountain is sacred to many Native American peoples in California and is even regarded by some as the point of creation.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/zZ2DXlM.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;There are three iconic bike climbs in the Bay Area: Mount Diablo, Mount Tamalpais (Mount Tam), and Mount Hamilton (Mount Ham? No not really). I haven’t attempted the latter two but Mount Diablo is apparently “less tranquil than Mount Hamilton and less scenic than Mount Tam”. At least it has the best name. It’s summit is 3849 feet above sea level and the climb from the south is about 3300 feet. This is spread over 11.3 miles and has an average grade of 5.8%. Not too bad but it definitely warrants extra training before, especially for the inexperienced. The mountain is easily accessible by Bart. The base is only 6 miles from the Walnut Creek station.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/M1EUvbe.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;This state park entrance is known as the North Gate. What’s weird is that it’s located way south of the park. Past it, the road gets significantly steeper and the real climbing begins. It was going to be an especially hot day and I could definitely feel the heat rising by this time. Thankfully, the humidity stayed low and it was bearable. I neglected to put on sunscreen (not smart) but surprisingly, I didn’t get a sunburn. This has been a consistent phenomenon over many of my previous bike trips.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/ClLdcmH.jpg?3&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The mountain and its surroundings looked extremely dry. It was a sea of yellow with the occasional green shrubs and trees. Was this because of the drought or was this seasonally normal? Hopefully the latter.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/Ze6g6CV.jpg?2&quot; /&gt;&lt;/div&gt;

&lt;p&gt;This was taken at around 2000 feet. The entire climb had so far been a slow grind with the intermittent struggle when the road became exceptionally steep. Thankfully, the steep points were far and few in between. It’s actually a very rewarding process as you can gauge progress by how much the view has improved since the last time you looked.&lt;/p&gt;

&lt;div class=&quot;wide-image-adj-top&quot;&gt;&lt;img src=&quot;http://i.imgur.com/dEi94iE.jpg&quot; /&gt;&lt;/div&gt;

&lt;div class=&quot;wide-image-adj-bottom&quot;&gt;&lt;img src=&quot;http://i.imgur.com/XBnEPIf.jpg?2&quot; /&gt;&lt;/div&gt;

&lt;p&gt;These were taken at around 2500 to 3000 feet. Remarkable views but very tired legs. The thought of all the food I could eat at the summit served as a good motivator. Really, who could say no to protein and granola bars? Exquisite! No kidding though, good views and strenous exercise makes even bland food tasty.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/PWteCnq.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;Finally made it! Fittingly, the last hundred yards was the most brutal of the whole climb. It gets up to 16% grade and you’re pretty much forced to ride standing up. Needless to say, I was quite tired and was highly tempted to walk the last bit. I couldn’t do it. I could see the finish line and pushed on for the summit views (and the food).&lt;/p&gt;

&lt;p&gt;The summit had a parking lot with a quaint little stone building (the Visitor Center) overlooking the Northern California landscape. Apparently you could actually stand on the very tip of the mountain inside the Visitor Center although I didn’t know it then. The building also had a roof that was open to visitors. The best views can be found there.&lt;/p&gt;

&lt;p&gt;To my pleasant surprise, the summit was a lot less busy than what I would’ve expected for noon on a Saturday.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/OH5QVpH.jpg?2&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The viewshed at Mount Diablo’s summit is quite impressive. Some even say that it’s the largest in the world (though unfounded). It does indeed have one of the best in the Western United States and this is remarkable considering it’s relatively low elevation. The Sierra Nevada is clearly visible from the summit and apparently you should also be able to see Sentinel Dome in Yosemite and the Golden Gate Bridge in San Francisco.&lt;/p&gt;

&lt;p&gt;I’m pretty sure I downed over a thousand calories in a far shorter time than socially appropriate at the summit. Some say your appetite actually diminishes after long periods of exercise. Not me, mine balloons. Guilt-free eating is the best kind of eating.&lt;/p&gt;

&lt;p&gt;Food consumed, views admired, all that’s left was the downhill. It’s the easiest part of the trip, physically at least, and also the most dangerous. Although you can’t feel it during the climb, the mountain road twists and turns at sharp angles and a miscalculation in speed when entering any of these turns could have disastrous consequences. This is especially true with the frequent car coming up the mountain.&lt;/p&gt;

&lt;p&gt;I’m no pro at cycling and definitely not great at making sharp turns at high speeds. There are some that are, and they do it angled over as you often see motorcyclists do in races. I can’t (yet) and maybe it’s for the better. Each of my corners was preceeded by generous braking. Nonetheless, it was a very scenic downhill and the effortless biking at such high speeds made it even better.&lt;/p&gt;

&lt;p&gt;Overall, Mount Diablo was a challenging but fun and rewarding ride. After a busy week, I definitely enjoyed having some time to myself.&lt;/p&gt;
</description>
        <pubDate>Tue, 04 Oct 2016 04:52:00 -0400</pubDate>
        <link>http://kevinpan.me/blog/2016/10/04/mt-diablo/</link>
        <guid isPermaLink="true">http://kevinpan.me/blog/2016/10/04/mt-diablo/</guid>
        
        
      </item>
    
      <item>
        <title>Bike touring around Livermore</title>
        <description>&lt;p&gt;This was the last long distance bike trip that I went on during my internship in San Francisco earlier this year. Up till then, my bike trips have mostly involved biking directly from my Financial District apartment and this meant that I wasn’t able to venture too far from the city proper. This trip was different. It was going to be around the eastern outskirts of a small-ish town across the bay called Livermore. Getting there involved taking the Bart to the easternmost terminal station (the Dublin/Pleasanton station) and biking even further eastward.&lt;/p&gt;

&lt;p&gt;I’d been inspired to go on this trip by a popular cyclist on Strava. It seemed like I was going to be biking through a baby mountain range with rolling green hills and valleys filled with wind turbines along the way. I would later find out this place was known as the Altamont Pass Wind Farm and it’s one of the earliest wind farms in the United States. I’ve never been to a wind farm before and pictures of the route online offered glimpses of fantastic views. It was hard to say no.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/Lou5tFE.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The train ride from San Francisco to the Dublin/Pleasanton station took around an hour and I soon found myself biking along wide stretches of open road towards Livermore. The weather was perfect for a long distance bike trip.&lt;/p&gt;

&lt;p&gt;Livermore is known for its vineyards and wineries and although it’s nowhere near as popular as Napa Valley or Sonoma, the town still manages to attract a good deal of out-of-town visitors.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://imgur.com/hV4Z0lV.png&quot; /&gt;&lt;/div&gt;

&lt;p&gt;According to Google Maps, I was climbing the moment I left the Bart station but the road is shallow enough, initially, that it’s hardly noticeable that I was biking uphill. I only started to feel the climb after biking several miles eastward when the urban landscape turned rural. It’s not a short climb either and this was going to be one of many during the trip.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/kMugZ5g.jpg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The climb is steepest near the top and up till this point, you won’t be seeing many wind turbines. I remember I encountered about two or three but that’s it. This changes dramatically as you reach the peak. The view of a steep uphill road from moments before melts away and becomes that of a wide green valley dotted with wind turbines.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/LlylggA.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;This was such a perfect way to end the long climb. The sparse traffic on the road made for a very peaceful experience. It was just me, my bike, and the occasional soft breeze. After a busy week at work, moments like these were very welcoming.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://imgur.com/4yyydNC.jpg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The downhill following the climb is probably the best I’ve experienced ever. That’s not saying much since I’ve only started biking “seriously” at the start of the term and haven’t been to many places. Nevertheless, ten kilometres of downhill on a straight road with sparse traffic would make any road cyclist happy. My previous experiences with long stretches of downhill were mostly on curvy mountain roads where a car can appear at any time behind a bend in the road.&lt;/p&gt;

&lt;p&gt;It’s really unfortunate that, at the end of the stretch of downhill road, I got a pretty bad case of hay fever. I shouldn’t be surprised though, as I was probably exposed to a gazillion pollen particles going down. Luckily, I brought some Claritin pills with me as a precaution but they only worked up to a certain degree. I still had to put up with hay fever for the rest of the ride :(&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/8aAyQBf.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/Rsq0pyh.jpg?1&quot; /&gt;&lt;/div&gt;

&lt;p&gt;You encounter a great deal of livestock throughout this route. It sounds mundane but one of the more memorable moments for me was seeing a herd of cows moving along against the backdrop of several large wind turbines lazily turning in the wind.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://i.imgur.com/NwTrDHg.jpg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The rest of the bike trip was filled with even more uphills and downhills, though none as long and steep as the first. The trip in total had around 2500 feet of climbing but doing so with hay fever makes it feel so much worse. Overall, it was around 90 kilometers of biking.&lt;/p&gt;

&lt;p&gt;Here’s the view I got at the end of the day. Almost as good as the one at the top of the first hill.&lt;/p&gt;

&lt;div class=&quot;wide-image&quot;&gt;&lt;img src=&quot;http://imgur.com/OlB0uFO.jpg&quot; /&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 18 Jul 2016 22:09:25 -0400</pubDate>
        <link>http://kevinpan.me/blog/2016/07/18/in-and-around-livermore/</link>
        <guid isPermaLink="true">http://kevinpan.me/blog/2016/07/18/in-and-around-livermore/</guid>
        
        
      </item>
    
      <item>
        <title>Thoughts on writing a resume</title>
        <description>&lt;p&gt;Yesterday I attended a resume critique session for lower year Software Engineers. I was able to critique four or five resumes and noticed a few common mistakes people tended to make. I wish I could’ve gone through more but my time is limited and I hope that through writing this blog post, I can reach out and help significantly more people than I ever could going over resumes one at a time.&lt;/p&gt;

&lt;p&gt;When I solve problems, I often prefer to take a step back and tackle them from first principles. How does this apply to resume-writing? Well the fundamental challenge is to successfully advertise yourself to recruiters… recruiters who are often looking through large piles of resumes trying to find the best candidates to interview. I really want to emphasize this point, it is often the case that recruiters do not have significant time to spend reading your resume given how many others they have to go over. Understand this constraint and create a resume that optimizes for it.&lt;/p&gt;

&lt;h1 id=&quot;highlight-what-makes-you-exceptional&quot;&gt;Highlight what makes you exceptional&lt;/h1&gt;

&lt;p&gt;One way to make a positive impression in a short time frame is to highlight the achievements that distinguish you from the crowd. Highlight them as aggressively as you can within aesthetic and organizational boundaries. These achievements could include programming competition awards, a mobile app getting X amount of downloads, basically anything that you did that someone else most likely couldn’t have done as well. Optimally, they should be able to be seen and understood with one cursory scan of the resume. Consider experimenting with your friends to see how noticeable they are.&lt;/p&gt;

&lt;p&gt;I saw a few resumes last night that had some really impressive achievements listed. For example, this person ranked in the top 2% for some programming competition and had multiple very successful side projects. Unfortunately, these achievements were all near the bottom of the resume and I had to trudge through hefty job descriptions to finally notice them. There were definitely ways to make these achievements more apparent.&lt;/p&gt;

&lt;p&gt;Exceptional achievements are what many recruiters like to see and should not be underestimated. If you have them, leverage them as much as you can!&lt;/p&gt;

&lt;h1 id=&quot;leadership-over-independence&quot;&gt;LEADERSHIP over INDEPENDENCE&lt;/h1&gt;

&lt;p&gt;A common trend I noticed last night was that people really liked highlighting that they were the sole developer on a project, that they “independently” built this piece of software. What they’re trying to say here is that they did a lot of work and have the technical capabilities to build something without significant help.&lt;/p&gt;

&lt;p&gt;Those are all great things to have, don’t get me wrong, but there is a much better way to phrase things. Recruiters are often looking for developers that are great communicators and team players. Emphasizing independent work does not attest to how great of a team player you might be and almost makes it seem like you worked as a separate entity from your team. Regardless if that’s true or not, you want to show the best of yourself on your resume.&lt;/p&gt;

&lt;p&gt;So instead of writing…&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Independently built this feature or software…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I suggest writing this…&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Lead the development of this feature or software…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Leadership is a very positive quality that all companies value highly. It does not rule out working well independently nor does it rule out being a great team player. In fact, it makes it sound as if you’re great at both!&lt;/p&gt;

&lt;h1 id=&quot;be-concise-and-easily-understood&quot;&gt;Be concise and easily understood&lt;/h1&gt;

&lt;p&gt;Some of the resumes I critiqued last night had many bloated bullet points. These points spanned multiple lines and discussed in great detail the technical aspects of the project. It seemed like the authors were trying to express the fact that they did a lot of work. They decided to do so by cramming as much information into a bullet point as it was stylistically acceptable.&lt;/p&gt;

&lt;p&gt;The reality is, a recruiter usually has a limited technical background and likely wouldn’t be able to appreciate the technical details of a project. Even for developers, if they were short on time, they are unlikely to put in the effort to read and fully understand the details. Sure they could infer that you must have worked hard from the amount you wrote, but they are left confused as to what you actually built and how important the work was.&lt;/p&gt;

&lt;p&gt;I think the best way to approach this is to split the point into two. Use the first point to describe, concisely and at a high level, what your project is about and why it is significant. Use the second point to state directly that you worked hard, that you did a lot of things behind the scenes to make your project a success.&lt;/p&gt;

&lt;p&gt;For example, instead of saying…&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Learned Node.js and PostgreSQL to build an application that blah blah blah&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Break it into these points…&lt;/p&gt;

&lt;ul&gt;
&lt;li style=&quot;margin-bottom: 8px&quot;&gt;Built an application that does this and is important because blah blah blah&lt;/li&gt;
&lt;li&gt;Learned Node.js and PostgreSQL for project. Researched and implemented these algorithms to make these features of the application possible etc.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Now, your recruiter not only has a good idea about what you worked on, but also doesn’t have to infer that you are hardworking and capable. You took the initiative and expressed confidence by stating it directly.&lt;/p&gt;

&lt;h1 id=&quot;what-over-how&quot;&gt;WHAT over HOW&lt;/h1&gt;

&lt;p&gt;This point is somewhat related to the previous point. Some resumes last night had the tendency to prioritise technical details over what the work was able to accomplish. For example, the technical aspects were either elaborated on first or bolded. As software engineers, we tend to get caught up in the details of the underlying design and the code. This is perfectly reasonable, writing software is not easy and it’s these details that result in technical success. Unfortunately, as mentioned before, it is often the case that the resume screener either does not have a strong technical background or does not have the time to understand these details, especially if it was outside of their domain. You are much better off describing the results of your work and their importance before following up with the technical elements. The reader will have an easier time understanding your work and you will more likely hold their interest.&lt;/p&gt;

&lt;p&gt;I’m also going to go on a whim here and say that people are generally more interested in the results rather than how the results were achieved. Do car commercials ever spend significant time showing off how a car was built or how they were able to achieve that high mileage?&lt;/p&gt;
</description>
        <pubDate>Wed, 11 May 2016 14:05:37 -0400</pubDate>
        <link>http://kevinpan.me/blog/2016/05/11/thoughts-on-writing-a-resume/</link>
        <guid isPermaLink="true">http://kevinpan.me/blog/2016/05/11/thoughts-on-writing-a-resume/</guid>
        
        
      </item>
    
      <item>
        <title>On growing up with anxiety...</title>
        <description>&lt;p&gt;To be honest I’m not completely comfortable with writing this post. I guess it’s probably because I’m sharing something about myself that I’m not entirely proud of… sort of like a secret, personal weakness that I’m exposing to the reader. I’ve long been able to cope and even overcome, if I daresay, most of these issues but there is this mysterious mental health stigma that pervades society and is definitely affecting me as I write this. However, I’m quite sure that many people can relate to at least some of my experiences and I hope that by sharing my anxiety story, I can somehow, in some way, help those that are still silently struggling against their inner beast.&lt;/p&gt;

&lt;p&gt;My story begins in my adolescent years… sometime during middle school when I had a terrible bout of OCD (Obsessive Compulsive Disorder). Like most cases of OCD, it starts out with really minor things like having a tendency to set the audio volume to certain numbers and [ …some other trivial example. I added the “and” for sentence flow and I can’t think of any examples right now]. Most people are like this right? Perfectly normal unless you have a particular sensitivity towards OCD. Unfortunately I did and the symptoms became more and more severe. At the worst stages, I exhibited most of the textbook symptoms of OCD like having elaborate, stressful, and terribly time consuming rituals that involved things like obsessive handwashing and ordering objects in my room (ordering as in making sure everything is in the perfect place, any object that’s even a tad bit off angle MUST be corrected at all costs).&lt;/p&gt;

&lt;p&gt;So why did I act out all these “rituals”? At the core of the problem was anxiety. Most of the time I acted because I was scared that if I didn’t, something bad would happen. Maybe this is why there’s this stigma around mental health. It’s just weird, silly, hard to explain, and incredibly embarrassing. In any case, it’s embarrassing at my expense so please keep reading ;)&lt;/p&gt;

&lt;p&gt;Also, as a side note, this is why these OCD rituals are so time consuming. If I didn’t do one correctly, I had a primal desire to restart. And restart I did. Many, many times.&lt;/p&gt;

&lt;p&gt;One of the ABSOLUTE WORST things about having OCD as a child, at least for me, was that I didn’t understand this and I was scared and embarrassed to talk about it to anyone around me. It wasn’t my OCD symptoms that made it hard for me to share though, it was all the fears, the worrying thoughts that were driving me to act out on them. These thoughts were horrible and often times weird and irrational. So irrational that I don’t even want to talk about them now. Fortunately, I was able to grow out of OCD but I couldn’t free myself of these thoughts.&lt;/p&gt;

&lt;p&gt;It is my understanding today that all these negative thoughts were the manifestation of my anxiety. This struggle with OCD was just a small battle in my overarching war against it.&lt;/p&gt;

&lt;p&gt;Come high school, I was rid of OCD but anxiety was a monster that clung to me and struck time and time again. I’ve always thought of myself as a little slower to mature emotionally compared to my peers and this, combined with all the negative emotions from anxiety, made a potent combination that, at times, overwhelmed me. Needless to say, high school wasn’t easy.&lt;/p&gt;

&lt;p&gt;Again, I kept everything to myself. It was the same story, anxiety created worries and fears that were too weird and embarrassing to share. If I couldn’t share the root cause of my frustration and depression, how could anyone else help?&lt;/p&gt;

&lt;p&gt;So I soldiered on and come university, things turned for the better as I became more emotionally mature and as they say, “grew into myself”. But I still had anxiety and I still had these thoughts. They were not necessarily the same as the thoughts a year ago or even a couple months ago but they were just as embarrasing, just as irrational. Anxiety “attacks” were less frequent but not any bit less potent. At the height of any one attack, rational thought is completely and utterly overwhelmed by negative emotions. It sucks.&lt;/p&gt;

&lt;p&gt;In any case, this is a HAPPY story and I did eventually overcome anxiety in a spectacular fashion. Word choice is important here, because I never really got rid of anxiety. It’s still a beast that continues today to affect me, albeit in a much more limited and tolerable fashion. I realised sometime around the start of my last school term that I’ve always tackled anxiety the wrong way. I alienated it, fought it, rejected it as a part of who I am. In other words, I couldn’t accept anxiety as being a part of me. But anxiety really is a part of me, and it is one of the many things that define who I am. This one thought, this one realization that I will never get rid of anxiety because it is a part of me made a profound change. Whenever I started obsessing over some stupid anxiety-driven thought, instead of fighting it, I accepted it. I embraced anxiety and stopped trying to control it. In return, my anxiety stopped controlling me. Magically, through acceptance, I stopped worrying.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;I embraced anxiety and stopped trying to control it. In return, my anxiety stopped controlling me. Magically, through acceptance, I stopped worrying.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;a-final-note&quot;&gt;A final note…&lt;/h2&gt;

&lt;p&gt;I didn’t mention this before but a lot of my anxiety-driven fears have another common theme besides being weird and embarrassing, they were always about LOSS. Somehow, deep within me, there is a strong, primal fear for loss. And this is how acceptance really helped. Instead of fearing loss, I mentally accepted loss. This is really hard to put into words but basically, if I was going to lose something and was powerless to stop it, I will lose it and then this loss becomes a part of who I am. This whole time the one thing that is constant, the one solid thing that I can rely on, is that I am me and that will never change :)&lt;/p&gt;
</description>
        <pubDate>Sat, 12 Mar 2016 05:48:25 -0500</pubDate>
        <link>http://kevinpan.me/blog/2016/03/12/on-growing-up-with-anxiety/</link>
        <guid isPermaLink="true">http://kevinpan.me/blog/2016/03/12/on-growing-up-with-anxiety/</guid>
        
        
      </item>
    
      <item>
        <title>Notes on the Mercator projection</title>
        <description>&lt;p&gt;A while back I was investigating on how I would build a Twitter mapping application similar to the &lt;a href=&quot;http://www.onemilliontweetmap.com/&quot;&gt;One Million Tweet Map&lt;/a&gt; project. One of the first topics I looked into was how I would plot and display each tweet on a map. I was hesitant on using the Google Maps API and wanted to build the project on top of the HTML5 Canvas.&lt;/p&gt;

&lt;p&gt;The main challenge here was implementing an algorithm that would map latitude and longitude information into x and y coordinates onto the canvas. I looked into several map projections and decided to settle on the Mercator projection (arguably the most commonly used map projection in the world). I did a little bit of research into Mercator projections with the help of &lt;a href=&quot;http://en.wikipedia.org/wiki/Mercator_projection&quot;&gt;Wikipedia&lt;/a&gt; and here is a concise summary of what I’ve learnt.&lt;/p&gt;

&lt;p&gt;The Mercator projection is a cylindrical map projection. This means that meridians are mapped to equally spaced vertical lines and circles of latitudes are mapped to equally spaced horizontal lines. The projection assumes that the Earth is a perfect sphere (in truth the Earth is best modelled by an oblate spheroid). Our map will be a Mercator projection of a scaled down version of the perfectly spherical Earth. This scaled down version of the Earth will be called the globe and it has a radius $R$.&lt;/p&gt;

&lt;p&gt;The Mercator projection can be understood using small element geometry. The idea is that if we “unwrap” the globe and spread it flat as best we could, very small elements or sections on the globe can be modelled using a rectangle. The diagram below visualizes this idea ($\lambda$ represents the longitude and $\phi$ represents the latitude).&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://upload.wikimedia.org/wikipedia/commons/d/d0/CylProj_infinitesimals2.svg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;The perpendicular distance from the axis of rotation to any point on the globe at latitude $\phi$ is $R \cdot \cos\phi$ and so we get $R \cdot \cos\phi \cdot \delta\lambda$ as the horizontal distance between $P$ and $Q$ using the arc length formula.&lt;/p&gt;

&lt;p&gt;The vertical distance between $P$ and $Q$ can also be explained using the same logic. Since latitudes are measured from the center of the globe and the difference in latitude between $P$ and $Q$ is $\delta\phi$, using the arc length formula again gives us $R \cdot \delta\phi$.&lt;/p&gt;

&lt;p&gt;With this information, we define two scale factors from globe to cylinder:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}
k(\phi) &amp; =\frac{P&#39;M&#39;}{PM}=\frac{\delta x}{R \cdot \cos\phi \cdot \delta\lambda}\tag{parallel scale factor} \\
h(\phi) &amp; =\frac{P&#39;K&#39;}{PK}=\frac{\delta y}{R \cdot \delta\phi}\tag{meridian scale factor}
\end{align} %]]&gt;&lt;/script&gt;

&lt;h2 id=&quot;mapping-from-longitudes-to-x-coordinates&quot;&gt;Mapping from longitudes to x coordinates&lt;/h2&gt;

&lt;p&gt;We note that for small $\delta\lambda$, $\delta x = R \cdot \delta\lambda$. From this equation, we can obtain the mapping function from longitudes to x coordinates (one half of the Mercator projection). $\delta x = R \cdot \delta\lambda$ is a very simple rearranged first order linear differential equation and we can solve it quickly.&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}
\delta x &amp; = R \cdot \delta\lambda \\
\int \delta x &amp; = R \cdot \int \delta\lambda \\
x + c_1 &amp; = R \cdot (\lambda + c_2) \\
x &amp; = (R \cdot \lambda) + (R \cdot c_2) - c_1 \\
&amp; = R(\lambda - \lambda_0)
\end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;Here $\lambda_0$ is the longitude of an arbitrary central meridian (this is usually Greenwich).&lt;/p&gt;

&lt;h2 id=&quot;mapping-from-latitudes-to-y-coordinates&quot;&gt;Mapping from latitudes to y coordinates&lt;/h2&gt;

&lt;p&gt;Before starting, it is important to understand that the Mercator projection is conformal. This means that the projection of points from the globe to the cylinder preserves angles. This property can be defined in two ways:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Equality of angles $\beta = \alpha$&lt;/li&gt;
  &lt;li&gt;Isotropy of scale factors: $h = k$&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;From the above, we know that $\delta x = R \cdot \delta\lambda$ and substituting this into the expression for $k(\phi)$ gets us:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}
\frac{1}{\cos\phi} &amp; = k(\phi) \\
&amp; = h(\phi)\tag{from (2)} \\
&amp; = \frac{\delta y}{R \cdot \delta\phi} \\
\frac{\delta y}{\delta\phi} &amp; = R \cdot \sec\phi
\end{align} %]]&gt;&lt;/script&gt;

&lt;p&gt;Solving this differential equation gives us the mapping function from latitudes to y coordinates:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;y = R \cdot \ln[\tan(\frac{\pi}{4} + \frac{\phi}{2})]&lt;/script&gt;

&lt;h2 id=&quot;finding-the-radius-of-the-globe-r&quot;&gt;Finding the radius of the globe, $R$&lt;/h2&gt;

&lt;p&gt;But wait, there’s more! All this time we’ve been working with the radius of the globe, $R$, but what exactly is it’s value once we put the projection into practice?&lt;/p&gt;

&lt;p&gt;Since the Mercator projection is cylindrical, the scale factor between the globe and the cylinder equals one only at the equator. This means that the circumference of the cylinder will equal the circumference of the globe and so the horizontal length of the physical map will equal $2 \cdot \pi \cdot R$.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Finally, we can define the Mercator projection with these three equations (where z equals the horizontal length of the physical map):&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align}
R &amp; = \frac{z}{2 \cdot \pi} \\
x &amp; = R(\lambda - \lambda_0) \\
y &amp; = R \cdot \ln[\tan(\frac{\pi}{4} + \frac{\phi}{2})]
\end{align} %]]&gt;&lt;/script&gt;

&lt;h2 id=&quot;inaccuracies-with-the-projection&quot;&gt;Inaccuracies with the projection&lt;/h2&gt;

&lt;p&gt;Interestingly, despite being one of the most popular projections in the world, the Mercator projection is grossly inaccurate in representing the relative sizes of different land masses. In particular, land masses get bloated the closer to the poles you go up to a point where the projection is not even capable of displaying the poles.&lt;/p&gt;

&lt;div class=&quot;fit-image&quot;&gt;&lt;img src=&quot;http://media.economist.com/sites/default/files/imagecache/original-size/20101113_WOM943.gif&quot; /&gt;&lt;/div&gt;

&lt;p&gt;This weird property of the projection can be understood by examining the parallel scale factor ($k(\phi)=\frac{\delta x}{R \cdot \cos\phi \cdot \delta\lambda}$). As we approach the poles, the latitudes approach $\pm 90^o$ and we know that $\cos\phi$ approaches $0$. Since $\cos\phi$ is in the denominator of the scale factor, the factor approaches $\infty$. An accurate projection will require the parallel scale factor to be $1$ everywhere.&lt;/p&gt;

&lt;p&gt;This explains why land masses closer to the poles get bloated while the poles cannot be represented since they would technically have infinite width on the projection.&lt;/p&gt;

&lt;hr /&gt;

&lt;h5 id=&quot;sidenote&quot;&gt;Sidenote&lt;/h5&gt;

&lt;p&gt;We can derive the latitude mapping function a second way.&lt;/p&gt;

&lt;p&gt;For small elements, we note that $\measuredangle PKQ$ is a right angle and so we get the two equations:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{aligned}
\tan\delta = \frac{R \cdot \cos\phi \cdot \delta\lambda}{R \cdot \delta\phi}, \tan\beta = \frac{\delta x}{\delta y}
\end{aligned}&lt;/script&gt;

&lt;p&gt;From $(1)$ equality of angles, we get the equation $\frac{R \cdot \cos\phi \cdot \delta\lambda}{R \cdot \delta\phi} = \frac{\delta x}{\delta y}$. We also know that $\delta x = R \cdot \delta\lambda$ for small elements. Using the latter fact and rearranging the former equation, we again reach $\frac{\delta y}{\delta\phi} = R \cdot \sec\phi$.&lt;/p&gt;
</description>
        <pubDate>Sun, 30 Nov 2014 01:22:42 -0500</pubDate>
        <link>http://kevinpan.me/blog/2014/11/30/some-notes-on-the-mercator-projection/</link>
        <guid isPermaLink="true">http://kevinpan.me/blog/2014/11/30/some-notes-on-the-mercator-projection/</guid>
        
        
      </item>
    
  </channel>
</rss>
